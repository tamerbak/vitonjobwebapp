<ol class="breadcrumb">
  <li>VOUS ÊTES ICI</li>
  <li class="active"><a class="breadcrumb-link" [routerLink]="['/app/settings']">Options</a></li>
</ol>
<div class="row">
  <div class="col-xs-12 pull-right" style="margin-bottom: 1em;">
    <a href="javascript:history.go(-1)"><button type="button" class="btn btn-secondary btn-sm" name="button"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Retour</button></a>
  </div>
</div>
<h1 class="page-title">Options -<span class="fw-semi-bold">{{currentUserFullname}}</span></h1>
<div class="row settings">
  <div class="col-lg-6 col-xs-12">
    <section class="widget">
      <div class="widget-body">
        <div class="widget-top-overflow text-white">
          <div class="height-250 overflow-hidden">
            <!-- <img class="img-fluid" src="assets/images/pictures/19.jpg"> -->
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 col-xs-12 text-xs-center">
            <div class="post-user post-user-profile">
              <span class="thumb-xlg">
                <img class="img-circle" src={{sharedService.getProfilImageUrl()}} alt="...">
              </span>
              <h5 class="fw-normal">{{currentUserFullname}}</h5>
              <p>{{isEmployer? (isRecruiter ? "Recruteur":"Employeur"):"Jobyer"}}</p>

              <ul class="contacts">
                <li><i class="fa fa-phone fa-fw mr-xs"></i><a href="#"> {{phoneNumber}}</a></li>
                <li><i class="fa fa-envelope fa-fw mr-xs"></i><a href="#"> {{email}}</a></li>
              </ul>
              <legend><strong>Compte</strong></legend>
              <button disabled class="btn btn-primary btn-sm mt">
                Modifier votre téléphone
              </button>
              <br>
              <button disabled class="btn btn-primary btn-sm mt">
                Modifier votre e-mail
              </button>
              <br>
              <button [disabled]="phase=='CHANGE_PASSWORD'" class="btn btn-primary btn-sm mt"
                      (click)="initPasswordPhaseForm()">
                Modifier votre mot de passe
              </button>
              <br>
              <button *ngIf="isEmployer" [disabled]="phase=='CHANGE_MISSION'" class="btn btn-primary btn-sm mt"
                      (click)="initMissionPhaseForm()">
                Modifier l'option suivi de mission
              </button>
              <br><br>
              <legend><strong>Sécurité</strong></legend>
              <button disabled class="btn btn-primary btn-sm mt" (click)="lockApp()">
                Verrouiller votre compte
              </button>
              <br><br>
              <legend><strong>Déconnexion</strong></legend>
              <button class="btn btn-primary btn-sm mt" (click)="logOut()">
                Se déconnecter
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <div [hidden]="!showForm" class="col-lg-6 col-xs-12">
    <section class="widget">
      <div class="widget-body">
        <form class="settings-form form-horizontal" role="form">
          <fieldset>
            <legend><strong>{{phaseTitle}}</strong></legend>
            <div *ngIf="phase=='CHANGE_MISSION'" class="form-group row">
              <label for="lastname" class="col-md-12 col-xs-12 form-control-label">
                Choisissez votre mode de suivi de mission
              </label>
              <div class="col-md-12 col-xs-12">

                <div class="abc-radio">
                  <input type="radio" name="radio1" id="radio1" value="1" (click)="watchOption($event)"
                         [checked]="missionOption == '1'">
                  <label for="radio1">
                    Option 1: Fixer les horaires sans intervention du jobyer
                  </label>
                </div>
                <div class="abc-radio">
                  <input type="radio" name="radio1" id="radio2" value="2" (click)="watchOption($event)"
                         [checked]="missionOption == '2'">
                  <label for="radio2">
                    Option 2: Suivi des horaires pointés par le jobyer
                  </label>
                </div>
                <div class="abc-radio">
                  <input type="radio" name="radio1" id="radio3" value="3" (click)="watchOption($event)" disabled>
                  <label for="radio3">
                    Option 3: Définition, suivi et validation des horaires pointés par les jobyers
                  </label>
                </div>
              </div>

            </div>

            <div *ngIf="phase=='CHANGE_PASSWORD'">
              <div class="form-group row">
                <label for="password1" class="col-md-4 col-xs-12 form-control-label text-md-right">
                  Mot de passe actuel
                </label>
                <div class="col-md-7 col-xs-12">
                  <input type="password" id="oldPassword" class="form-control" [(ngModel)]="oldPassword" name="oldPassword"
                         (keyup)="watchOldPassword($event)">
                </div>
                <div class="col-md-offset-4 col-md-7 col-xs-12">
                  <span class="hint label label-danger">{{oldPasswordHint}}</span>
                </div>
              </div>

              <div class="form-group row">
                <label for="password1" class="col-md-4 col-xs-12 form-control-label text-md-right">
                  Nouveau mot de passe
                </label>
                <div class="col-md-7 col-xs-12">
                  <input type="password" id="password1" class="form-control" [(ngModel)]="password1" name="password1"
                         (keyup)="watchPassword1($event)">
                </div>
                <div class="col-md-offset-4 col-md-7 col-xs-12">
                  <span class="hint label label-danger">{{password1Hint}}</span>
                </div>
              </div>

              <div class="form-group row">
                <label for="password2" class="col-md-4 col-xs-12 form-control-label text-md-right">
                  Confirmation du mot de passe
                </label>
                <div class="col-md-7 col-xs-12">
                  <input type="password" id="password2" class="form-control" [(ngModel)]="password2" name="password2"
                         (keyup)="watchPassword2($event)">
                </div>

                <div class="col-md-offset-4 col-md-7 col-xs-12">
                  <span class="hint label label-danger">{{password2Hint}}</span>
                </div>
              </div>
            </div>

          </fieldset>

          <div class="clearfix">
            <div class="btn-toolbar pull-xs-right m-t-1">
              <div class="widget-body btn loaderPosition" [hidden]="!validation">
                <div class="loader animated fadeIn handle">
  										<span class="spinner">
  											<i class="fa fa-spinner fa-spin"></i>
  										</span>
                </div>
              </div>
              <button class="btn btn-primary" [disabled]="!isValidForm() || validation" (click)="executePhase()">
                Valider
              </button>
              <button class="btn btn-default" (click)="closeForm()">Annuler</button>
            </div>
          </div>


        </form>
      </div>
    </section>
  </div>
</div>
