<div class="row">

  <div class="col-lg-3 col-xs-12">
    <section widget class="widget">
      <div class="widget-controls">
        <a href="#"><i class="fa fa-refresh"></i></a>
        <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
      </div>
      <div class="widget-body">
        <div class="widget-top-overflow windget-padding-md clearfix bg-warning text-white">
          <h3 class="mt-lg mb-lg">Liste des <span class="fw-semi-bold">Jobyers</span><br />
            disponibles pour cette offre
          </h3>
          <!--<ul class="tags text-white pull-right">-->
            <!--<li><a href="#">features</a></li>-->
          <!--</ul>-->
        </div>
        <div class="post-user mt-n-lg {{ getDetailStatusClass() }}">
          <span class="thumb-lg pull-left mr">
            <img class="img-circle" src="{{ sharedService.getProfilImageUrl() }}" alt="...">
          </span>
          <h6 class="m-b-1 fw-normal text-white">
            {{ sharedService.getCurrentUser().titre }} {{ sharedService.getCurrentUser().prenom }} {{ sharedService.getCurrentUser().nom }}
            <!--<small class="text-white text-light">@sing</small>-->
          </h6>
          <!--<p class="fs-mini text-muted"><time>25 mins</time> &nbsp; <i class="fa fa-map-marker"></i> &nbsp; near Amsterdam</p>-->
          <div
            *ngIf="getDetailStatusClass() == 'offer-recruit-detail-open'"
            class="container-fluid offer-recruit-description"
          >

            <div class="widget-controls slot-description-actions">
              <a href="#">
                <i class="fa fa-refresh"></i>
              </a>
              <a href="#" data-widgster="close">
                <i class="glyphicon glyphicon-remove"></i>
              </a>
            </div>

            <div class="row">
              <div class="col-xs-12">
                <button
                  (click)="unassignSlot()"
                  class="btn slot-description-unassign"
                >
                  Désassigner ce créneau
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="bg-body-light">
        <ul class="post-links">
          <!--<li><a href="#">1 hour</a></li>-->
          <!--<li><a href="#"><span class="text-danger"><i class="fa fa-heart"></i> Like</span></a></li>-->
          <!--<li><a href="#">Comment</a></li>-->
        </ul>
        <ul class="post-comments mt mb-0">

          <li
            *ngFor="let jobyer of jobyers"
            class="offer-recruit-jobyer-available offer-recruit-jobyer-{{ getJobyerColor(jobyer.id) }}"
            (mouseover)="previewJobyerAvailabilities(jobyer)"
            (mouseleave)="cancelPreviewJobyerAvailabilities()"
            (click)="assignToSelectedJobyer(jobyer)"
          >
            <span class="thumb-xs avatar pull-left mr-sm">
              <img class="img-circle" src="assets/images/avatar.png" alt="..." />
            </span>
            <div class="comment-body">
              <h6 class="author fs-sm fw-semi-bold">
                {{ jobyer.titre }} {{ jobyer.prenom }} {{ jobyer.nom }}
                {{ jobyer.avatar }}
              </h6>
              <p class="fs-mini" *ngIf="jobyer.toujours_disponible">
                Toujours disponible
              </p>
              <p class="fs-mini" *ngIf="!jobyer.toujours_disponible && jobyer.disponibilites.length == 0">
                Indisponible
              </p>
              <p class="fs-mini" *ngIf="!jobyer.toujours_disponible && jobyer.disponibilites.length > 0">
                Partiellement disponible
              </p>
            </div>
          </li>

          <li>
            <span class="thumb-xs avatar pull-left mr-sm">
              <img class="img-circle" src="assets/images/avatar.png" alt="...">
            </span>
            <div class="comment-body">
              <input class="form-control form-control-sm" type="text" placeholder="Write your comment...">
            </div>
          </li>

        </ul>
      </footer>
    </section>
  </div>

  <div class="col-lg-9 col-xs-12">
    <section class="widget widget-calendar widget-offer">

      <header class="bb widget-offer-header">
        <h6><span class="fw-semi-bold widget-offer-header-title">
          Horaires de travail souhaités à répartir
        </span></h6>
      </header>

      <div class="table-responsive offer-recruit-slots-container">
        <table class="table table-hover">
          <thead>
          <tr>
            <th>#</th>
            <th colspan="4"></th>
            <th *ngFor="let h of displayedHour" colspan="8" class="offer-recruit-slots-headers">
              {{ h }}:00
            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let day of employerPlanning.quartersPerDay; let d = index;">
            <td class="offer-recruit-slots-day">
              {{ getFrenchDateString(day.date) }}
            </td>
            <td *ngFor="let quarterId of quartersPerDay;" class="offer-recruit-slots-quart">
              <div
                class="offer-recruit-slots-quarter-fill-container {{ getQuarterColor(day, quarterId) }}"
              >
                &nbsp;
              </div>
              <div
                class="offer-recruit-slots-quarter-fill {{ getQuarterColorHover(day, quarterId) }}"
                (click)="selectedSlot(day, quarterId)"
              >
                &nbsp;
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

    </section>
  </div>

</div>

<div
  modal-team
  [(jobyers)]="jobyers"
  (jobyerSelected)="modalJobyerSelected($event)"
></div>

<div
  modal-notification-contract
  [jobyer]="currentJobyer"
  [subject]="subject"
></div>

<button (click)="saveRepartition()">Valider la répartition</button>
